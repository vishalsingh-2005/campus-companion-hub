@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════
   Campus Companion — Custom Design System
   Aesthetic: Neo-brutalist meets glassmorphism
   Palette: Indigo-violet core with warm amber accents
   ═══════════════════════════════════════════════════ */

@layer base {
  :root {
    --background: 230 25% 97%;
    --foreground: 230 25% 10%;

    --card: 0 0% 100%;
    --card-foreground: 230 25% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 230 25% 10%;

    --primary: 252 85% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 230 15% 92%;
    --secondary-foreground: 230 25% 25%;

    --muted: 230 15% 93%;
    --muted-foreground: 230 10% 45%;

    --accent: 38 95% 55%;
    --accent-foreground: 38 95% 15%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --success: 152 69% 40%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    --info: 210 100% 52%;
    --info-foreground: 0 0% 100%;

    --border: 230 15% 90%;
    --input: 230 15% 88%;
    --ring: 252 85% 60%;

    --radius: 0.875rem;

    --sidebar-background: 252 40% 16%;
    --sidebar-foreground: 230 30% 92%;
    --sidebar-primary: 252 85% 65%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 252 30% 25%;
    --sidebar-accent-foreground: 230 30% 92%;
    --sidebar-border: 252 20% 22%;
    --sidebar-ring: 252 85% 65%;

    --chart-1: 252 85% 60%;
    --chart-2: 38 95% 55%;
    --chart-3: 152 69% 40%;
    --chart-4: 210 100% 52%;
    --chart-5: 330 80% 55%;

    --shadow-2xs: 0 1px 2px 0 hsl(230 25% 10% / 0.03);
    --shadow-xs: 0 1px 3px 0 hsl(230 25% 10% / 0.04);
    --shadow-sm: 0 2px 8px -1px hsl(230 25% 10% / 0.06);
    --shadow-md: 0 4px 16px -2px hsl(230 25% 10% / 0.08);
    --shadow-lg: 0 8px 30px -4px hsl(230 25% 10% / 0.1);
    --shadow-xl: 0 16px 50px -8px hsl(230 25% 10% / 0.14);
    --shadow-2xl: 0 24px 60px -12px hsl(230 25% 10% / 0.2);
    --shadow: 0 2px 8px -1px hsl(230 25% 10% / 0.06);

    --sidebar: 0 0% 100%;
    --tracking-normal: 0em;
    --spacing: 0.25rem;
  }

  .dark {
    --background: 230 20% 8%;
    --foreground: 230 15% 92%;

    --card: 230 18% 12%;
    --card-foreground: 230 15% 92%;

    --popover: 230 18% 14%;
    --popover-foreground: 230 15% 92%;

    --primary: 252 80% 68%;
    --primary-foreground: 252 40% 10%;

    --secondary: 230 15% 18%;
    --secondary-foreground: 230 15% 80%;

    --muted: 230 12% 18%;
    --muted-foreground: 230 10% 55%;

    --accent: 38 90% 58%;
    --accent-foreground: 38 90% 10%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 230 12% 18%;
    --input: 230 12% 20%;
    --ring: 252 80% 68%;

    --sidebar-background: 252 35% 8%;
    --sidebar-foreground: 230 15% 88%;
    --sidebar-primary: 252 80% 68%;
    --sidebar-primary-foreground: 252 35% 8%;
    --sidebar-accent: 252 25% 16%;
    --sidebar-accent-foreground: 230 15% 88%;
    --sidebar-border: 252 15% 14%;
    --sidebar-ring: 252 80% 68%;

    --chart-1: 252 80% 68%;
    --chart-2: 38 90% 58%;
    --chart-3: 152 60% 50%;
    --chart-4: 210 95% 60%;
    --chart-5: 330 75% 60%;

    --shadow-2xs: 0 1px 2px 0 hsl(0 0% 0% / 0.1);
    --shadow-xs: 0 1px 3px 0 hsl(0 0% 0% / 0.12);
    --shadow-sm: 0 2px 8px -1px hsl(0 0% 0% / 0.15);
    --shadow-md: 0 4px 16px -2px hsl(0 0% 0% / 0.2);
    --shadow-lg: 0 8px 30px -4px hsl(0 0% 0% / 0.25);
    --shadow-xl: 0 16px 50px -8px hsl(0 0% 0% / 0.3);
    --shadow-2xl: 0 24px 60px -12px hsl(0 0% 0% / 0.35);
    --shadow: 0 2px 8px -1px hsl(0 0% 0% / 0.15);

    --sidebar: 230 18% 12%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', 'Plus Jakarta Sans', system-ui, sans-serif;
    @apply font-bold tracking-tight;
  }
}

/* ═══ Custom Utility Classes ═══ */
@layer utilities {
  .glass {
    @apply bg-card/60 backdrop-blur-2xl border border-border/50;
  }

  .glass-strong {
    @apply bg-card/80 backdrop-blur-3xl border border-border/60;
  }

  .glass-sidebar {
    background: linear-gradient(180deg, 
      hsl(var(--sidebar-background)) 0%, 
      hsl(var(--sidebar-background) / 0.95) 100%);
    backdrop-filter: blur(40px) saturate(180%);
  }

  .gradient-primary {
    background: linear-gradient(135deg, hsl(252 85% 60%) 0%, hsl(280 80% 55%) 50%, hsl(330 80% 55%) 100%);
  }

  .gradient-warm {
    background: linear-gradient(135deg, hsl(38 95% 55%) 0%, hsl(18 90% 55%) 100%);
  }

  .gradient-mesh {
    background: 
      radial-gradient(at 20% 20%, hsl(252 85% 60% / 0.15) 0%, transparent 50%),
      radial-gradient(at 80% 80%, hsl(38 95% 55% / 0.1) 0%, transparent 50%),
      radial-gradient(at 50% 50%, hsl(330 80% 55% / 0.05) 0%, transparent 70%);
  }

  .gradient-card {
    background: linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--card) / 0.8) 100%);
  }

  .shadow-glow {
    box-shadow: 0 0 24px hsl(252 85% 60% / 0.25), 0 0 8px hsl(252 85% 60% / 0.15);
  }

  .shadow-glow-accent {
    box-shadow: 0 0 24px hsl(38 95% 55% / 0.25), 0 0 8px hsl(38 95% 55% / 0.15);
  }

  .stat-card {
    @apply relative overflow-hidden rounded-xl sm:rounded-2xl border bg-card p-4 sm:p-6 shadow-md transition-all duration-500;
  }

  .stat-card:hover {
    @apply shadow-xl -translate-y-1;
  }

  .stat-card::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-500;
    background: linear-gradient(135deg, hsl(252 85% 60% / 0.06) 0%, hsl(38 95% 55% / 0.04) 100%);
  }

  .stat-card:hover::before {
    @apply opacity-100;
  }

  /* Page transition wrapper */
  .page-transition {
    animation: pageEnter 0.4s cubic-bezier(0.22, 1, 0.36, 1) both;
  }

  /* Floating shapes */
  .float-shape {
    animation: floatShape 6s ease-in-out infinite;
  }

  .float-shape-delayed {
    animation: floatShape 6s ease-in-out infinite;
    animation-delay: -3s;
  }
}

/* ═══ Animations ═══ */
@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes floatShape {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(3deg); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes pulseRing {
  0% { transform: scale(1); opacity: 0.6; }
  100% { transform: scale(1.5); opacity: 0; }
}

.animate-fade-in { animation: fadeIn 0.3s ease-out; }
.animate-slide-up { animation: slideUp 0.4s ease-out; }
.animate-slide-in-left { animation: slideInLeft 0.3s ease-out; }
.animate-scale-in { animation: scaleIn 0.2s ease-out; }

.animate-float {
  animation: floatShape 4s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, hsl(var(--primary) / 0.08), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

/* ═══ Custom Scrollbar ═══ */
::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/35;
}

/* Touch-friendly tap targets */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Safe area for mobile notch */
.safe-area-inset {
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* ═══ Table styling ═══ */
.data-table {
  @apply w-full border-separate border-spacing-0;
}

.data-table th {
  @apply bg-muted/50 text-left text-xs sm:text-sm font-semibold text-muted-foreground px-2 sm:px-4 py-2 sm:py-3 first:rounded-tl-xl last:rounded-tr-xl;
}

.data-table td {
  @apply px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm border-b border-border/50;
}

.data-table tbody tr {
  @apply transition-colors hover:bg-muted/20;
}

/* ═══ Responsive table wrapper ═══ */
.table-responsive {
  @apply w-full overflow-x-auto -mx-3 px-3 sm:mx-0 sm:px-0;
  -webkit-overflow-scrolling: touch;
}

/* ═══ LiveKit Video Conference Styles ═══ */
.lk-room-container { @apply h-full w-full bg-background; }
.lk-video-conference { @apply h-full w-full; }
.lk-grid-layout { @apply h-full w-full gap-2 p-2; }
.lk-participant-tile { @apply rounded-2xl overflow-hidden bg-muted; }
.lk-participant-name { @apply text-sm font-medium text-foreground bg-background/80 px-2 py-1 rounded-lg; }
.lk-control-bar { @apply bg-card border-t border-border p-3 flex items-center justify-center gap-2; }
.lk-button { @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-medium transition-all bg-muted hover:bg-muted/80 text-foreground; }
.lk-button-destructive { @apply bg-destructive text-destructive-foreground hover:bg-destructive/90; }
.lk-chat { @apply h-full flex flex-col bg-card; }
.lk-chat-messages { @apply flex-1 overflow-y-auto p-4 space-y-4; }
.lk-chat-entry { @apply flex flex-col gap-1; }
.lk-chat-entry-name { @apply text-sm font-medium text-foreground; }
.lk-chat-entry-message { @apply text-sm text-muted-foreground; }
.lk-chat-form { @apply p-4 border-t border-border flex gap-2; }
.lk-chat-form-input { @apply flex-1 rounded-xl border border-input bg-background px-3 py-2 text-sm; }
.lk-chat-form-button { @apply inline-flex items-center justify-center rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground; }
